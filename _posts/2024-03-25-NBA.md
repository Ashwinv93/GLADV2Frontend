---
title: NBA
layout: post
permalink: /NBA
type: tangibles
courses: { csp: { week: 27 } }
---

<body>
    <form id="nbaForm">
        <label for="team1">Home Team:</label>
        <input type="text" id="team1" name="team1" required><br><br>
        <label for="team2">Away Team:</label>
        <input type="text" id="team2" name="team2" required><br><br>
        <button type="button" onclick="predictWinner()">Predict Winner</button>
    </form>
    <div id="result"></div>
    <script>
    // Mapping of plaintext team names to their numerical IDs
    var teamNameToID = {
        "Atlanta Hawks": 1610612737,
        "Boston Celtics": 1610612738,
        "Brooklyn Nets": 1610612751,
        "Charlotte Hornets": 1610612766,
        "Chicago Bulls": 1610612741,
        "Cleveland Cavaliers": 1610612739,
        "Dallas Mavericks": 1610612742,
        "Denver Nuggets": 1610612743,
        "Detroit Pistons": 1610612765,
        "Golden State Warriors": 1610612744,
        "Houston Rockets": 1610612745,
        "Indiana Pacers": 1610612754,
        "LA Clippers": 1610612746,
        "Los Angeles Lakers": 1610612747,
        "Memphis Grizzlies": 1610612763,
        "Miami Heat": 1610612748,
        "Milwaukee Bucks": 1610612749,
        "Minnesota Timberwolves": 1610612750,
        "New Orleans Pelicans": 1610612740,
        "New York Knicks": 1610612752,
        "Oklahoma City Thunder": 1610612760,
        "Orlando Magic": 1610612753,
        "Philadelphia 76ers": 1610612755,
        "Phoenix Suns": 1610612756,
        "Portland Trail Blazers": 1610612757,
        "Sacramento Kings": 1610612758,
        "San Antonio Spurs": 1610612759,
        "Toronto Raptors": 1610612761,
        "Utah Jazz": 1610612762,
        "Washington Wizards": 1610612764
    };
      function predictWinner() {
        var form = document.getElementById('nbaForm');
        var team1 = document.getElementById('team1').value;
        var team2 = document.getElementById('team2').value;
        var resultDiv = document.getElementById('result');
        // Retrieve the numerical IDs using the mapping
        var team1ID = teamNameToID[team1];
        var team2ID = teamNameToID[team2];
        // Prepare data as JSON with numerical IDs
        var data = {
            "team1_id": team1ID, // Fix the property name
            "team2_id": team2ID // Fix the property name
        };
        // Send the data to the backend API
        fetch('http://localhost:8086/api/NBA/predict', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            },
            body: JSON.stringify(data)
        })
        .then(response => response.json())
         .then(data => {
            resultDiv.innerHTML = '<h2>Predicted Win Rates</h2>'; // Update the header
            // Iterate over the data object to display win rates and team IDs
            for (var teamID in data) {
                var winRate = data[teamID];
                var teamName = Object.keys(teamNameToID).find(key => teamNameToID[key] === parseInt(teamID));
                resultDiv.innerHTML += '<p>Team: ' + teamName + ', Win Rate: ' + winRate.toFixed(4) + '%</p>';
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }
</script>